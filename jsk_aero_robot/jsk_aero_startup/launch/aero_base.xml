<launch>
  <!-- <arg name="map_file" default="$(find jsk_aero_private)/83a3/raw_maps/room83a3.yaml"/> -->
  <!-- <arg name="costmap_file" default="$(find jsk_aero_private)/83a3/raw_maps/room83a3_cost.yaml"/> -->
  <arg name="map_file" default="$(find jsk_aero_private)/83a3/raw_maps/aist_conveni.yaml"/>
  <arg name="costmap_file" default="$(find jsk_aero_private)/83a3/raw_maps/aist_conveni.yaml"/>

  <arg name="nodelet_manager_name"  default="nodelet_manager"/>
  <arg name="config_file"           default="$(find jsk_aero_startup)/config/cmd_vel_conf.yaml"/>

  <!--- Bringup wheel -->
  <include file="$(find aero_startup)/aero_move_base/launch/wheel_bringup.launch" />

  <!--- Run Map Server -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" />
  <node name="costmap_server" pkg="map_server" type="map_server" args="$(arg costmap_file)">
    <remap from="map" to="map_localization"/>
  </node>
  <!-- <include file="$(find jsk_maps)/launch/start_map_eng2.launch"/> -->

  <!--- Run AMCL -->
  <include file="$(find aero_startup)/aero_move_base/launch/amcl.launch" />

  <!--- Run Move Base -->
  <include file="$(find aero_startup)/aero_move_base/launch/move_base.launch">
    <arg name="machine" value="aero_v"/>
    <arg name="map_file" value="$(arg map_file)" />
  </include>

  <!-- <group ns="base_controller"> -->
  <!--   <node pkg="pr2_base_trajectory_action" type="pr2_base_trajectory_action" -->
  <!--         name="joint_trajectory_action" respawn="true" output="screen"> -->
  <!--     <rosparam command="load" file="$(find pr2_base_trajectory_action)/config/pr2_base_link.yaml"/> -->
  <!--     <remap from="command" to="/base_controller/cmd_vel" /> -->
  <!--     <remap from="odom" to="/odom" /> -->
  <!--   </node> -->
  <!-- </group> -->

  <!-- nodelet manager -->
  <node pkg="nodelet" type="nodelet" name="$(arg nodelet_manager_name)" args="manager"/>

  <!-- velocity mulitplexer -->
  <!-- <include file="$(find yocs_cmd_vel_mux)/launch/cmd_vel_mux.launch"> -->
  <!--   <arg name="nodelet_manager_name"  value="$(arg nodelet_manager_name)"/> -->
  <!--   <arg name="config_file"           value="$(arg config_file)"/> -->
  <!-- </include> -->

</launch>
